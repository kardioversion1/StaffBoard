:root{
  --bg:#080b10; --panel:#141b2c; --control:#101624; --tab:#0f1522; --text:#ffffff;
  --muted:#9aa8be; --accent:#0090ff; --ok:#28c990; --warn:#f5a524; --danger:#ef5b5b;
  --line:#273044; --slot:#111726; --gap:20px; --radius:16px;
  --cell:clamp(58px,5vh,72px); --f:clamp(16px,1vw,20px); --f-lg:clamp(20px,1.4vw,26px); --f-xl:clamp(28px,2.2vw,36px);
}
:root[data-theme='light']{
  --bg:#f5f7fa; --panel:#ffffff; --control:#ffffff; --tab:#f0f3f8; --text:#1a2233; --muted:#6b778d; --line:#dfe6f0;
}
html,body,#root{height:100%;margin:0;}
body{background:var(--bg);color:var(--text);font-family:sans-serif;font-size:var(--f);}

.app-root{width:1920px;height:1080px;display:flex;flex-direction:column;overflow:hidden;}
.main-grid{flex:1;display:grid;grid-template-columns:72% 28%;height:100%;}
.right-rail{display:flex;flex-direction:column;gap:var(--gap);padding:var(--gap);overflow:hidden;}
.rail-card{background:var(--panel);padding:var(--gap);border-radius:var(--radius);min-height:100px;}
.time-weather .clock{font-size:var(--f-xl);line-height:1;}
.time-weather .weather{margin-top:8px;}
.time-weather .loc{font-size:var(--f);}
.time-weather .current{display:flex;align-items:center;gap:8px;font-size:var(--f-lg);}
.time-weather .current .icon{font-size:var(--f-lg);}
.time-weather .range,.time-weather .updated{font-size:var(--f);color:var(--muted);}
.time-weather .updated .stale{color:var(--warn);}
.time-weather .weather-placeholder{margin-top:8px;font-size:var(--f);color:var(--muted);}
.time-weather .weather-placeholder button{margin-left:8px;}
.error{color:var(--danger);font-size:var(--f);margin-top:4px;}
.topbar.tv .search{display:none;}
.topbar.tv button:first-child{display:none;}

.board{display:flex;flex-direction:column;gap:var(--gap);padding:var(--gap);height:100%;overflow:auto;}
.zone{background:var(--panel);border-radius:var(--radius);display:flex;flex-direction:column;padding:12px;}
.zone-body{display:grid;gap:8px;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));grid-auto-rows:minmax(48px,auto);overflow:visible;}
.zone--dropTarget{outline:2px dashed var(--accent);box-shadow:0 0 0 3px color-mix(in oklab,var(--accent) 30%, transparent);}
.zone-title{margin-top:0;font-size:var(--f-lg);}

.nurse-card{background:var(--control);border-radius:var(--radius);padding:8px;min-height:44px;box-shadow:0 1px 2px rgba(0,0,0,0.3);cursor:grab;display:flex;flex-direction:column;}
.nurse-card.dragging{opacity:0.5;box-shadow:0 0 0 3px var(--accent);}
.nurse-name{font-size:var(--f-lg);}
.rf-number{font-size:var(--f);color:var(--muted);cursor:pointer;}
.off-tag{font-size:12px;color:var(--warn);margin-left:4px;}
.nurse-card .menu-btn{margin-left:4px;background:none;border:none;color:var(--text);cursor:pointer;}
.nurse-card .badges{display:inline-flex;gap:6px;margin-left:6px;vertical-align:middle;}
.badge{font-size:12px;padding:2px 6px;border-radius:999px;background:var(--control);color:var(--muted);}
.badge--break{background:color-mix(in oklab,var(--warn) 25%, var(--control));}
.badge--student{background:color-mix(in oklab,var(--accent) 25%, var(--control));}
.badge--dto{background:color-mix(in oklab,var(--danger) 25%, var(--control));}
.employment-icon{margin-right:4px;}
.nurse-menu{position:absolute;background:var(--panel);padding:10px;border-radius:8px;box-shadow:0 2px 6px rgba(0,0,0,0.3);z-index:50;}
.nurse-menu .menu-header{margin-bottom:8px;}

.topbar{position:sticky;top:0;background:var(--panel);display:flex;align-items:center;gap:10px;padding:10px;z-index:10;}
.nav-tabs button{margin-right:8px;background:none;border:none;color:var(--text);cursor:pointer;padding:4px 8px;border-bottom:2px solid transparent;}
.nav-tabs .active{border-color:var(--accent);}
.topbar .search{flex:1;padding:6px 10px;border-radius:8px;border:1px solid var(--line);background:var(--control);color:var(--text);}
.search-results{position:absolute;top:50px;left:50%;transform:translateX(-50%);background:var(--panel);padding:10px;border-radius:var(--radius);box-shadow:0 2px 6px rgba(0,0,0,0.3);}

.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.5);display:flex;align-items:center;justify-content:center;z-index:100;}
.modal-content{background:var(--panel);padding:20px;border-radius:var(--radius);position:relative;min-width:300px;}
.modal-close{position:absolute;top:10px;right:10px;background:none;border:none;color:var(--text);font-size:24px;cursor:pointer;}

.error-overlay{position:fixed;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px;background:rgba(0,0,0,0.8);color:#fff;z-index:1000;}
.dev-panel{position:fixed;bottom:0;left:0;background:var(--panel);color:var(--text);padding:10px;font-size:12px;z-index:999;}
.toast{position:fixed;bottom:10px;right:10px;background:var(--danger);color:#fff;padding:8px 12px;border-radius:4px;z-index:998;}

.nurse-menu{background:var(--panel);box-shadow:0 2px 6px rgba(0,0,0,0.4);display:flex;flex-direction:column;gap:4px;}
.nurse-menu button{background:none;border:none;color:var(--text);text-align:left;padding:4px 8px;cursor:pointer;}
.nurse-menu button:hover{background:var(--control);}
