
:root{
  --bg:#f5f7fa;
  --panel:#ffffff;
  --control:#ffffff;
  --tab:#f0f3f8;
  --text:#1a2233;
  --muted:#6b778c;
  --accent:#0066ff;
  --ok:#27ae60;
  --warn:#f39c12;
  --danger:#e74c3c;
  --line:#dce1eb;
  --slot:#f5f8ff;
  --gap:20px;
  --radius:16px;
  --cell:clamp(58px,5vh,72px);
  --f:clamp(16px,1vw,20px);
  --f-lg:clamp(20px,1.4vw,26px);
  --f-xl:clamp(28px,2.2vw,36px);
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--text);font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial}
.wrap{max-width:1920px;margin:0 auto;padding:var(--gap)}
header{display:grid;grid-template-columns:1fr auto auto;gap:var(--gap);align-items:center;margin-bottom:var(--gap)}
.title{font-size:var(--f-xl);font-weight:800;letter-spacing:.2px}
.subtitle{color:var(--muted);font-size:var(--f)}
.toolbar{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.btn,.input,.select,textarea{border-radius:12px;border:1px solid var(--line);background:var(--control);color:var(--text);padding:10px 12px;font-size:var(--f);}
.btn{height:44px;cursor:pointer;user-select:none}
.btn.accent{background:var(--accent);border-color:#0054d1;color:#ffffff;font-weight:700}
.btn.ok{background:var(--ok);border-color:#1b9a70;color:#ffffff;font-weight:700}
.btn.warn{background:var(--warn);border-color:#c88415;color:#ffffff;font-weight:700}
.tabs{display:flex;gap:8px;margin-bottom:var(--gap)}
.tab{padding:10px 14px;border-radius:10px;border:1px solid var(--line);cursor:pointer;background:var(--tab)}
.tab.active{background:var(--panel);box-shadow:inset 0 0 0 1px var(--accent)}
.grid{display:grid;grid-template-columns: 1.5fr 2fr 1fr;gap:var(--gap)}
.panel{background:var(--panel);border:1px solid var(--line);border-radius:var(--radius);padding:var(--gap);box-shadow:0 1px 0 rgba(0,0,0,.2)}
.section{margin-bottom:var(--gap)}
.section h3{margin:0 0 8px 0;font-size:var(--f-lg)}
.legend{display:flex;gap:14px;align-items:center;color:var(--muted);font-size:var(--f)}
.dot{width:10px;height:10px;border-radius:50%}
.row{display:flex;gap:var(--gap);align-items:center;margin-bottom:10px;flex-wrap:wrap}
.slot{flex:1;min-height:var(--cell);display:flex;gap:10px;align-items:center;padding:10px 12px;border-radius:12px;background:var(--slot);border:1px solid var(--line)}
.pill{font-size:.9em;color:var(--muted);background:var(--tab);border:1px solid var(--line);padding:4px 8px;border-radius:999px;white-space:nowrap}
.tile{display:flex;gap:10px;align-items:center;justify-content:space-between;width:100%}
.name{font-size:var(--f-lg);font-weight:800}
.rf{font-size:.95em;color:var(--muted)}
.badge{font-size:.78em;border-radius:6px;border:1px solid var(--line);padding:3px 6px;color:#cfd3e4}
.badge.j{background:#0e2a1d;color:#7fe0b4;border-color:#204b36}
.badge.t{background:#0c2031;color:#8ecbff;border-color:#254a6d}
.badge.f{background:#2a1b15;color:#ffc6a1;border-color:#5b3929}
.badge.o{background:#26262b;color:#c7c7cf;border-color:#3a3a44}
.zone-card{ border:1.5px solid var(--line); background:var(--tab); border-radius:16px; padding:10px; display:flex; flex-direction:column; }
.zone-title{ display:flex; justify-content:space-between; align-items:center; padding:8px 10px; margin-bottom:8px; border-bottom:1px solid #273044; }
.zone-title .name{ font-size: clamp(18px, 1.6vw, 22px); font-weight:900; letter-spacing:.2px; }
.zone-body{ display:flex; flex-direction:column; gap:10px; }
#zoneContainer{ display:grid; grid-template-columns: repeat(4, minmax(260px, 1fr)); gap:12px; }
@media (max-width:1600px){ #zoneContainer{ grid-template-columns: repeat(3, minmax(260px, 1fr)); } }
@media (max-width:1200px){ #zoneContainer{ grid-template-columns: repeat(2, minmax(260px, 1fr)); } }
#rosterWrap{max-height:60vh; overflow:auto; overscroll-behavior: contain; padding-right:4px;}
.listbox{min-height:260px;background:var(--control);border:1px solid var(--line);border-radius:10px;padding:10px}
.listbox .item{padding:10px;border-radius:8px;border:1px solid var(--line);background:var(--tab);margin-bottom:8px;cursor:grab}
.drop-hover{ outline:2px dashed var(--accent); outline-offset:3px; }
.menu-overlay{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center;z-index:9998}
.menu-card{width:min(460px,92vw);background:var(--control);border:1px solid var(--line);border-radius:16px;padding:12px}
.menu-card h3{margin:0 0 8px 0}
.menu-list{display:flex;flex-direction:column;gap:8px;margin:10px 0}
.menu-item{display:flex;justify-content:space-between;align-items:center;padding:10px;border-radius:10px;border:1px solid var(--line);background:var(--tab);cursor:pointer}
.menu-item:hover{background:var(--panel)}
